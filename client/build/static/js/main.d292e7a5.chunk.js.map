{"version":3,"sources":["components/AppLayout.tsx","hooks/useFetcher.ts","components/ProductMediaView.tsx","components/ProductCard.tsx","pages/ProductsListPage.tsx","hooks/useProducts.ts","hooks/useVendors.ts","pages/ProductDetailsPage.tsx","hooks/useProductDetails.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Content","Layout","AppLayout","children","className","FETCHER_STATUS_IDLE","FETCHER_STATUS_FETCHING","useFetcher","endpoint","useState","content","setContent","status","setStatus","useEffect","fetch","then","response","json","items","catch","error","console","ProductMediaView","media","height","onClick","style","padding","type","controls","src","url","width","objectFit","cursor","id","ProductCard","product","vidioDisplaying","setVideoDisplaying","filter","cover","Meta","title","name","description","vendor","ProductsListPage","history","useHistory","search","setFilter","products","productsStatus","map","useVendors","vendors","direction","size","layout","onValuesChange","changedValues","allValues","Item","placeholder","allowClear","Option","value","grid","gutter","column","dataSource","loading","renderItem","push","ProductsDetailsPage","productId","useParams","productStatus","extra","to","href","order","App","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iQAGQA,EAAYC,IAAZD,QAEO,SAASE,EAAT,GAAiE,IAA5CC,EAA2C,EAA3CA,SAClC,OACE,cAAC,IAAD,UACE,cAACH,EAAD,CAASI,UAAU,oBAAnB,SACGD,MCPF,IAAME,EAAsB,OACtBC,EAA0B,WAExB,SAASC,EAAcC,GAAuC,IAAD,EAC5CC,mBAAmB,MADyB,mBACnEC,EADmE,KAC1DC,EAD0D,OAE9CF,mBAAiBJ,GAF6B,mBAEnEO,EAFmE,KAE3DC,EAF2D,KAwB1E,OANAC,qBAAU,WACJN,IAdJK,EAAUP,GACVS,MAAMP,GACHQ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJN,EAAUR,GACVM,EAAWQ,MAEZC,OAAM,SAAAC,GACLR,EAAUR,GACViB,QAAQD,MAAMA,SAQjB,CAACb,IAEG,CAACE,EAASE,G,aC3BJ,SAASW,EAAT,GAA2H,IAA/FC,EAA8F,EAA9FA,MAA8F,IAAvFC,cAAuF,MAAhF,IAAgF,EAA3EC,EAA2E,EAA3EA,QAC5D,OACE,qBAAoBA,QAASA,EAASC,MAAO,CAAEC,QAAS,OAAxD,SACkB,UAAfJ,EAAMK,KACL,uBAAOC,UAAQ,EAACC,IAAKP,EAAMQ,IAAKC,MAAM,OAAOR,OAAQA,IAErD,qBAAKM,IAAKP,EAAMQ,IAAKC,MAAM,OAAOR,OAAQA,EAAQE,MAAO,CAAEO,UAAW,UAAWC,OAAQ,cAJnFX,EAAMY,ICCL,SAASC,EAAT,GAAwF,IAAjEC,EAAgE,EAAhEA,QAASZ,EAAuD,EAAvDA,QAAuD,EACtDjB,oBAAkB,GADoC,mBAC7F8B,EAD6F,KAC5EC,EAD4E,OAGpFF,EAAQd,MAAMiB,QAAO,SAAAjB,GACnC,OAAIe,EACoB,UAAff,EAAMK,KAEO,UAAfL,EAAMK,QAJRL,EAH6F,oBAUpG,OACE,cAAC,IAAD,CACEkB,MAAO,cAACnB,EAAD,CAAkBC,MAAOA,EAAOE,QAAS,kBAAMc,GAAmB,MACzEd,QAASA,EAFX,SAIE,cAAC,IAAKiB,KAAN,CAAWC,MAAON,EAAQO,KAAMC,YAAaR,EAAQS,WC2B5CC,MAtCf,WACE,IAAMC,EAAUC,cADU,EAEEzC,mBAAS,CAAE0C,OAAQ,GAAIJ,OAAQ,KAFjC,mBAEnBN,EAFmB,KAEXW,EAFW,OCLnB7C,EDQwC,oBAAD,OAAqBkC,EAAOU,QAAU,GAAtC,mBAAmDV,EAAOM,QAAU,KAHxF,mBAGnBM,EAHmB,KAGTC,EAHS,OENb,SAAqB9C,GAAuC,IAAD,EAChDD,EAAqBC,GAD2B,mBACjEW,EADiE,KAC1DP,EAD0D,KAExE,MAAO,CAACO,EAAQA,EAAMoC,KAAY,SAAAV,GAAI,MAAK,CAAEA,WAAW,GAAIjC,GFQ1C4C,CAAW,YAAtBC,EAJmB,oBAM1B,OACE,cAACvD,EAAD,UACE,eAAC,IAAD,CAAOwD,UAAU,WAAWC,KAAK,SAAjC,UACE,eAAC,IAAD,CAAMC,OAAO,SAASC,eAAgB,SAACC,EAAeC,GAAhB,OAA8BX,EAAUW,IAA9E,UACE,cAAC,IAAKC,KAAN,CAAWnB,KAAK,SAAhB,SACE,cAAC,IAAD,CAAOoB,YAAY,aAErB,cAAC,IAAKD,KAAN,CAAWnB,KAAK,SAAhB,SACE,cAAC,IAAD,CACEqB,YAAU,EACVvC,MAAO,CAAEM,MAAO,KAChBgC,YAAY,SAHd,SAKGR,EAAQF,KAAI,SAAAR,GAAM,OAAI,cAAC,IAAOoB,OAAR,CAAiCC,MAAOrB,EAAOF,KAA/C,SAAsDE,EAAOF,MAAzCE,EAAOF,gBAIxD,cAAC,IAAD,CACEwB,KAAM,CAAEC,OAAQ,GAAIC,OAAQ,GAC5BC,WAAYnB,GAAY,GACxBoB,QAASnB,IAAmBhD,EAC5BoE,WAAY,SAAApC,GAAO,OACjB,cAAC,IAAK0B,KAAN,UACE,cAAC3B,EAAD,CAAaC,QAASA,EAASZ,QAAS,kBAAMuB,EAAQ0B,KAAR,oBAA0BrC,EAAQF,mBGL/EwC,MAzBf,WAAgC,IACtBC,EAAcC,cAAdD,UADqB,ECJtBtE,EDM4C,aAAD,OAAcsE,IAFnC,mBAEtBvC,EAFsB,KAEbyC,EAFa,KAI7B,OACE,cAAC7E,EAAD,UACE,eAAC,IAAD,CAAM0C,MAAK,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAASO,KAAMmC,MAAO,cAAC,IAAD,CAAMC,GAAG,IAAT,SAAa,mBAAGC,KAAK,IAAR,oBAAhD,UACE,oCAAK5C,QAAL,IAAKA,OAAL,EAAKA,EAASO,OACd,gDAAYP,QAAZ,IAAYA,OAAZ,EAAYA,EAASS,UACrB,+CAAWT,QAAX,IAAWA,OAAX,EAAWA,EAAS6C,SACpB,wCACA,cAAC,IAAD,CACEX,YAAmB,OAAPlC,QAAO,IAAPA,OAAA,EAAAA,EAASd,QAAS,GAC9BiD,QAASM,IAAkBzE,EAC3BoE,WAAY,SAAAlD,GAAK,OACf,cAAC,IAAKwC,KAAN,UACE,cAACzC,EAAD,CAAiCC,MAAOA,EAAOC,OAAQ,KAAhCD,EAAMY,eEL5BgD,MAXf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,uBAAuBC,UAAWV,IAC9C,cAAC,IAAD,CAAOS,KAAK,IAAIC,UAAWtC,UCCpBuC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBzE,MAAK,YAAkD,IAA/C0E,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.d292e7a5.chunk.js","sourcesContent":["import React from 'react';\nimport { Layout } from 'antd';\n\nconst { Content } = Layout;\n\nexport default function AppLayout({ children }: { children: React.ReactNode }) {\n  return (\n    <Layout>\n      <Content className=\"AppLayout-content\">\n        {children}\n      </Content>\n    </Layout>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport const FETCHER_STATUS_IDLE = 'idle';\nexport const FETCHER_STATUS_FETCHING = 'fetching';\n\nexport default function useFetcher<I>(endpoint: string): [I | null, string] {\n  const [content, setContent] = useState<I | null>(null);\n  const [status, setStatus] = useState<string>(FETCHER_STATUS_IDLE);\n\n  function fetchContent() {\n    setStatus(FETCHER_STATUS_FETCHING);\n    fetch(endpoint)\n      .then(response => response.json())\n      .then(items => {\n        setStatus(FETCHER_STATUS_IDLE);\n        setContent(items as I);\n      })\n      .catch(error => {\n        setStatus(FETCHER_STATUS_IDLE)\n        console.error(error);\n      });\n  }\n\n  useEffect(() => {\n    if (endpoint) {\n      fetchContent();\n    }\n  }, [endpoint]);\n\n  return [content, status];\n}\n","import { ProductMedia } from '../types';\n\nexport default function ProductMediaView({ media, height=150, onClick }: { media: ProductMedia, height?: number, onClick?: () => void }) {\n  return (\n    <div key={media.id} onClick={onClick} style={{ padding: '5px' }}>\n      {media.type === 'video' ? (\n        <video controls src={media.url} width=\"100%\" height={height} />\n      ) : (\n        <img src={media.url} width=\"100%\" height={height} style={{ objectFit: 'contain', cursor: 'pointer' }} />\n      )}\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Card } from 'antd';\nimport { Product } from '../types';\nimport ProductMediaView from './ProductMediaView';\n\nexport default function ProductCard({ product, onClick }: { product: Product, onClick?: () => void }) {\n  const [vidioDisplaying, setVideoDisplaying] = useState<boolean>(false);\n\n  const [media] = product.media.filter(media => {\n    if (vidioDisplaying) {\n      return media.type === 'video';\n    }\n    return media.type === 'image';\n  });\n\n  return (\n    <Card\n      cover={<ProductMediaView media={media} onClick={() => setVideoDisplaying(true)} />}\n      onClick={onClick}\n    >\n      <Card.Meta title={product.name} description={product.vendor} />\n    </Card>\n  );\n}\n","import React, { useState } from 'react';\nimport {  List, Form, Select, Input, Space } from 'antd';\nimport AppLayout from '../components/AppLayout';\nimport { useHistory } from \"react-router-dom\";\nimport useProducts from '../hooks/useProducts';\nimport useVendors from '../hooks/useVendors';\nimport ProductCard from '../components/ProductCard';\nimport { FETCHER_STATUS_FETCHING } from '../hooks/useFetcher';\n\nfunction ProductsListPage() {\n  const history = useHistory();\n  const [filter, setFilter] = useState({ search: '', vendor: '' });\n  const [products, productsStatus] = useProducts(`/products?search=${filter.search || ''}&vendor=${filter.vendor || ''}`);\n  const [vendors] = useVendors('/vendors');\n  \n  return (\n    <AppLayout>\n      <Space direction=\"vertical\" size=\"middle\">\n        <Form layout=\"inline\" onValuesChange={(changedValues, allValues) => setFilter(allValues)}>\n          <Form.Item name=\"search\">\n            <Input placeholder=\"Search\" />\n          </Form.Item>\n          <Form.Item name=\"vendor\">\n            <Select\n              allowClear\n              style={{ width: 200 }}\n              placeholder=\"Vendor\"\n            >\n              {vendors.map(vendor => <Select.Option key={vendor.name} value={vendor.name}>{vendor.name}</Select.Option>)}\n            </Select>\n          </Form.Item>\n        </Form>\n        <List\n          grid={{ gutter: 16, column: 4 }}\n          dataSource={products || []}\n          loading={productsStatus === FETCHER_STATUS_FETCHING}\n          renderItem={product => (\n            <List.Item>\n              <ProductCard product={product} onClick={() => history.push(`/products/${product.id}`)} />\n            </List.Item>\n          )}\n        />\n      </Space>\n    </AppLayout>\n  );\n}\n\nexport default ProductsListPage;\n","import useFetcher from './useFetcher';\nimport { Product } from '../types';\n\nexport default function useProducts(endpoint: string) {\n  return useFetcher<Product[]>(endpoint);\n}\n","import useFetcher from './useFetcher';\nimport { Vendor } from '../types';\n\nexport default function useProducts(endpoint: string): [Vendor[], string] {\n  const [items, status] = useFetcher<string[]>(endpoint);\n  return [items ? items.map<Vendor>(name => ({ name })) : [], status];\n}\n","import React from 'react';\nimport { Link, useParams } from \"react-router-dom\";\nimport { Card, List } from 'antd';\nimport AppLayout from '../components/AppLayout';\nimport useProductDetails from '../hooks/useProductDetails';\nimport ProductMediaView from '../components/ProductMediaView';\nimport { FETCHER_STATUS_FETCHING } from '../hooks/useFetcher';\n\nfunction ProductsDetailsPage() {\n  const { productId } = useParams<{ productId: string }>();\n  const [product, productStatus] = useProductDetails(`/products/${productId}`);\n  \n  return (\n    <AppLayout>\n      <Card title={product?.name} extra={<Link to=\"/\"><a href=\"#\">Back</a></Link>}>\n        <h1>{product?.name}</h1>\n        <p>Vendor: {product?.vendor}</p>\n        <p>Order: {product?.order}</p>\n        <h2>Media:</h2>\n        <List\n          dataSource={product?.media || []}\n          loading={productStatus === FETCHER_STATUS_FETCHING}\n          renderItem={media => (\n            <List.Item>\n              <ProductMediaView key={media.id} media={media} height={300} />\n            </List.Item>\n          )}\n        />\n      </Card>\n    </AppLayout>\n  );\n}\n\nexport default ProductsDetailsPage;\n","import useFetcher from './useFetcher';\nimport { Product } from '../types';\n\nexport default function useProductDetails(endpoint: string) {\n  return useFetcher<Product>(endpoint);\n}\n","import {\n  HashRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport ProductsListPage from './pages/ProductsListPage';\nimport ProductsDetailsPage from './pages/ProductDetailsPage';\n\nfunction App() {  \n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/products/:productId\" component={ProductsDetailsPage} />\n        <Route path=\"/\" component={ProductsListPage} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}