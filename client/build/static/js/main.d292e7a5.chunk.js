(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(e,t,n){},294:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n(0),i=n.n(r),o=n(32),a=n.n(o),d=(n(160),n(76)),j=n(26),s=n(38),u=n(302),l=n(297),b=n(299),h=n(81),O=n(300),v=n(301),x=v.a.Content;function p(e){var t=e.children;return Object(c.jsx)(v.a,{children:Object(c.jsx)(x,{className:"AppLayout-content",children:t})})}var f="idle",m="fetching";function g(e){var t=Object(r.useState)(null),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(f),a=Object(s.a)(o,2),d=a[0],j=a[1];return Object(r.useEffect)((function(){e&&(j(m),fetch(e).then((function(e){return e.json()})).then((function(e){j(f),i(e)})).catch((function(e){j(f),console.error(e)})))}),[e]),[c,d]}var C=n(298);function I(e){var t=e.media,n=e.height,r=void 0===n?150:n,i=e.onClick;return Object(c.jsx)("div",{onClick:i,style:{padding:"5px"},children:"video"===t.type?Object(c.jsx)("video",{controls:!0,src:t.url,width:"100%",height:r}):Object(c.jsx)("img",{src:t.url,width:"100%",height:r,style:{objectFit:"contain",cursor:"pointer"}})},t.id)}function k(e){var t=e.product,n=e.onClick,i=Object(r.useState)(!1),o=Object(s.a)(i,2),a=o[0],d=o[1],j=t.media.filter((function(e){return a?"video"===e.type:"image"===e.type})),u=Object(s.a)(j,1)[0];return Object(c.jsx)(C.a,{cover:Object(c.jsx)(I,{media:u,onClick:function(){return d(!0)}}),onClick:n,children:Object(c.jsx)(C.a.Meta,{title:t.name,description:t.vendor})})}var y=function(){var e=Object(j.f)(),t=Object(r.useState)({search:"",vendor:""}),n=Object(s.a)(t,2),i=n[0],o=n[1],a=g("/products?search=".concat(i.search||"","&vendor=").concat(i.vendor||"")),d=Object(s.a)(a,2),v=d[0],x=d[1],f=function(e){var t=g(e),n=Object(s.a)(t,2),c=n[0],r=n[1];return[c?c.map((function(e){return{name:e}})):[],r]}("/vendors"),C=Object(s.a)(f,1)[0];return Object(c.jsx)(p,{children:Object(c.jsxs)(u.b,{direction:"vertical",size:"middle",children:[Object(c.jsxs)(l.a,{layout:"inline",onValuesChange:function(e,t){return o(t)},children:[Object(c.jsx)(l.a.Item,{name:"search",children:Object(c.jsx)(b.a,{placeholder:"Search"})}),Object(c.jsx)(l.a.Item,{name:"vendor",children:Object(c.jsx)(h.a,{allowClear:!0,style:{width:200},placeholder:"Vendor",children:C.map((function(e){return Object(c.jsx)(h.a.Option,{value:e.name,children:e.name},e.name)}))})})]}),Object(c.jsx)(O.b,{grid:{gutter:16,column:4},dataSource:v||[],loading:x===m,renderItem:function(t){return Object(c.jsx)(O.b.Item,{children:Object(c.jsx)(k,{product:t,onClick:function(){return e.push("/products/".concat(t.id))}})})}})]})})};var S=function(){var e=Object(j.g)().productId,t=g("/products/".concat(e)),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(c.jsx)(p,{children:Object(c.jsxs)(C.a,{title:null===r||void 0===r?void 0:r.name,extra:Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)("a",{href:"#",children:"Back"})}),children:[Object(c.jsx)("h1",{children:null===r||void 0===r?void 0:r.name}),Object(c.jsxs)("p",{children:["Vendor: ",null===r||void 0===r?void 0:r.vendor]}),Object(c.jsxs)("p",{children:["Order: ",null===r||void 0===r?void 0:r.order]}),Object(c.jsx)("h2",{children:"Media:"}),Object(c.jsx)(O.b,{dataSource:(null===r||void 0===r?void 0:r.media)||[],loading:i===m,renderItem:function(e){return Object(c.jsx)(O.b.Item,{children:Object(c.jsx)(I,{media:e,height:300},e.id)})}})]})})};var w=function(){return Object(c.jsx)(d.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/products/:productId",component:S}),Object(c.jsx)(j.a,{path:"/",component:y})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,303)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};n(293);a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),F()}},[[294,1,2]]]);
//# sourceMappingURL=main.d292e7a5.chunk.js.map