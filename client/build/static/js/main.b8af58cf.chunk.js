(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{163:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n(0),i=n.n(r),o=n(31),a=n.n(o),d=(n(163),n(75)),j=n(25),u=n(115),l=n(39),s=n(300),b=n(295),h=n(297),O=n(81),p=n(298),v=n(299),x=v.a.Content;function m(e){var t=e.children;return Object(c.jsx)(v.a,{children:Object(c.jsx)(x,{className:"AppLayout-content",children:t})})}var f="idle",g="fetching";function C(e){var t=Object(r.useState)(null),n=Object(l.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(f),a=Object(l.a)(o,2),d=a[0],j=a[1];return Object(r.useEffect)((function(){e&&(j(g),fetch(e).then((function(e){return e.json()})).then((function(e){j(f),i(e)})).catch((function(e){j(f),console.error(e)})))}),[e]),[c,d]}var y=n(296);function k(e){var t=e.media,n=e.height,r=void 0===n?150:n,i=e.onClick;return Object(c.jsx)("div",{onClick:i,style:{padding:"5px"},children:"video"===t.type?Object(c.jsx)("video",{controls:!0,src:t.url,width:"100%",height:r}):Object(c.jsx)("img",{src:t.url,width:"100%",height:r,style:{objectFit:"contain",cursor:"pointer"}})},t.id)}function I(e){var t=e.product,n=e.onClick,i=Object(r.useState)(!1),o=Object(l.a)(i,2),a=o[0],d=o[1],j=t.media.filter((function(e){return a?"video"===e.type:"image"===e.type})),u=Object(l.a)(j,1)[0];return Object(c.jsx)(y.a,{cover:Object(c.jsx)(k,{media:u,onClick:function(){return d(!0)}}),onClick:n,children:Object(c.jsx)(y.a.Meta,{title:t.name,description:t.vendor})})}function S(e){var t=e.promotion,n=e.onClick;return Object(c.jsx)(y.a,{style:{height:257,backgroundColor:"#f0f0f0"},onClick:n,children:Object(c.jsx)(y.a.Meta,{title:t.text})})}var w=function(){var e=Object(j.f)(),t=Object(r.useState)({search:"",vendor:""}),n=Object(l.a)(t,2),i=n[0],o=n[1],a=C("/products?search=".concat(i.search||"","&vendor=").concat(i.vendor||"")),d=Object(l.a)(a,2),v=d[0],x=d[1],f=function(e){return C(e)}("/promotions/default"),y=Object(l.a)(f,1)[0],k=function(e){return C(e)}("/vendors"),w=Object(l.a)(k,1)[0],F=null===v||void 0===v?void 0:v.reduce((function(e,t,n){return y&&y.order===n+1?[].concat(Object(u.a)(e),[{item:t,type:"product"},{item:y,type:"promotion"}]):[].concat(Object(u.a)(e),[{item:t,type:"product"}])}),[]);return Object(c.jsx)(m,{children:Object(c.jsxs)(s.b,{direction:"vertical",size:"middle",children:[Object(c.jsxs)(b.a,{layout:"inline",onValuesChange:function(e,t){return o(t)},children:[Object(c.jsx)(b.a.Item,{name:"search",children:Object(c.jsx)(h.a,{placeholder:"Search"})}),Object(c.jsx)(b.a.Item,{name:"vendor",children:Object(c.jsx)(O.a,{allowClear:!0,style:{width:200},placeholder:"Vendor",children:null===w||void 0===w?void 0:w.map((function(e){return Object(c.jsx)(O.a.Option,{value:e.name,children:e.name},e.name)}))})})]}),Object(c.jsx)(p.b,{grid:{gutter:16,column:4},dataSource:F||[],loading:x===g,renderItem:function(t){return Object(c.jsx)(p.b.Item,{children:"product"===t.type?Object(c.jsx)(I,{product:t.item,onClick:function(){return e.push("/products/".concat(t.item.id))}}):Object(c.jsx)(S,{promotion:t.item})})}})]})})};var F=function(){var e=Object(j.g)().productId,t=C("/products/".concat(e)),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(c.jsx)(m,{children:Object(c.jsxs)(y.a,{title:null===r||void 0===r?void 0:r.name,extra:Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)("a",{href:"#",children:"Back"})}),children:[Object(c.jsx)("h1",{children:null===r||void 0===r?void 0:r.name}),Object(c.jsxs)("p",{children:["Vendor: ",null===r||void 0===r?void 0:r.vendor]}),Object(c.jsxs)("p",{children:["Order: ",null===r||void 0===r?void 0:r.order]}),Object(c.jsx)("h2",{children:"Media:"}),Object(c.jsx)(p.b,{dataSource:(null===r||void 0===r?void 0:r.media)||[],loading:i===g,renderItem:function(e){return Object(c.jsx)(p.b.Item,{children:Object(c.jsx)(k,{media:e,height:300},e.id)})}})]})})};var M=function(){return Object(c.jsx)(d.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/products/:productId",component:F}),Object(c.jsx)(j.a,{path:"/",component:w})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,301)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};n(291);a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root")),B()}},[[292,1,2]]]);
//# sourceMappingURL=main.b8af58cf.chunk.js.map